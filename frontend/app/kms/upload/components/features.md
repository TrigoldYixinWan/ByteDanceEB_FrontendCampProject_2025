# 上传文档页面功能说明

## 已实现功能

### 1. 页面布局与导航

- 集成现有的KMS导航栏和头部布局
- 响应式设计，最大宽度1200px，居中显示
- 卡片式设计，带有阴影效果

### 2. 标签页切换

- 两个标签页：上传PDF文档 和 手动创建文档
- 默认显示上传PDF文档标签页
- 点击标签页标题可以切换内容
- 标签页切换时保留已填写的表单数据

### 3. 上传PDF文档功能

- 文件上传组件，支持拖拽和点击上传
- 文件类型验证：只允许上传PDF格式
- 文件大小验证：不超过10MB
- 文件名自动提取为文档标题（如果标题为空）
- 文档标题和描述输入框

### 4. 手动创建文档功能

- 文档标题输入框
- 多行文本内容输入框（支持最小8行，最大15行）
- 文档描述输入框

### 5. 通用表单字段

- 所属业务选择（必填）
- 所属场景选择（必填，根据业务动态过滤）
- 标签输入（可选，支持多个标签）

### 6. 表单验证

- 业务和场景选择验证
- PDF文件和标题验证（PDF上传模式）
- 标题和内容验证（手动创建模式）
- 实时错误提示，使用TDesign的MessagePlugin组件

### 7. 数据提交与处理

- API端点：/api/kms/upload
- 支持FormData提交，适合文件上传
- 成功后显示成功消息
- 提交成功后重置表单
- 提交成功后跳转到文档列表页面
- 错误处理和错误消息提示

### 8. 用户交互

- 取消按钮：返回上一页
- 提交按钮：验证表单并提交数据
- 清除按钮：业务和场景选择支持清除
- 标签输入支持清除

## 技术实现

### 组件库

- 使用TDesign React组件库
- 使用TDesign Icons图标库

### 状态管理

- 使用React useState进行本地状态管理
- 使用useEffect处理场景过滤逻辑
- 使用useRouter进行路由导航

### 表单处理

- 使用TDesign Form组件构建表单
- 自定义表单验证逻辑
- 表单数据双向绑定

### 文件上传

- 使用TDesign Upload组件
- 文件类型和大小验证
- FormData API处理文件上传

## 未来扩展可能性

1. 添加更多文件格式支持（如Word、Excel等）
2. 文件预览功能
3. 更丰富的标签管理功能
4. 表单草稿保存功能
5. 批量上传功能
6. 上传进度显示
7. 更详细的业务和场景管理
8. 文档分类和权限管理
